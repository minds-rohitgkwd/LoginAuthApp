<!-- header component -->
<app-header></app-header>

<!-- Vertically centered modal add product -->

<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 text-uppercase"  id="staticBackdropLabel">Create new product</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form action="" [formGroup]="createProductForm" (ngSubmit)="createProduct(); createProductForm.reset()">
          <div class="mb-3">
            <label for="name" class="col-sm-3 col-form-label">Product name</label>
            <div class="col-sm">
              <input type="text" [formControlName]="'name'" class="form-control rounded-0" placeholder="">
            </div>
          </div>
          <div class=" mb-3">
            <label for="description" class="col-sm-3 col-form-label">Description</label>
            <div class="col-sm">
              <textarea type="text" [formControlName]="'description'" class="form-control rounded-0" rows="3"
                placeholder=""></textarea>
            </div>
          </div>
          <div class="row mb-3">
            <label for="formFileSm" class="form-label col-sm-4">upload image</label>
            <input class="form-control rounded-0 form-control-sm col" (change)="uploadImage($event)" type="file"
              multiple="multiple">
          </div>
          <div class="row mb-3">
            <label for="price" class="col-sm-4 col-form-label">price</label>
            <div class="col-sm-4 position-relative">
              <!-- <i class="fa-solid fa-indian-rupee-sign position-absolute start-0"></i>
              <i class="fa fa-rupee-sign position-absolute start-0"></i> -->
              <input type="text" pattern="^[0-9]*$" [formControlName]="'price'" class="form-control rounded-0"
                placeholder="0000.00">
            </div>
          </div>
          <div class="text-end">
            <button type="submit" [disabled]="!createProductForm.valid" class="btn btn-success rounded-0 text-uppercase" data-bs-dismiss="modal"
              aria-label="Close" style="color:#2a431c">submit</button>
          </div>

        </form>
      </div>
      <div class="modal-footer">
        <!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> -->
      </div>
    </div>
  </div>
</div>



<div class="container py-3">
  <div class=" d-flex justify-content-between">
    <div class="d-flex position-relative align-items-center ">
      <i class="fa fa-search icon position-absolute end-0 p-3"></i>
      <input type="search" id="form1" class="form-control rounded-0 p-2" placeholder="search" aria-label="Search" />
    </div>
    <div class="dropdown">
      <button class="btn btn-light border px-3 p-2 dropdown-toggle rounded-0" style="width: 250px;" type="button"
        data-bs-toggle="dropdown" aria-expanded="false">
        Sort by
      </button>
      <ul class="dropdown-menu dropdown-menu-end">
        <li><a class="dropdown-item" href="#">name</a></li>
        <li><a class="dropdown-item" href="#">price</a></li>
        <li><a class="dropdown-item" href="#">best selling</a></li>
      </ul>
    </div>
  </div>

  <div class="container products-list-sec">
    <div class="text-center my-3">
      <p class="fw-lighter">All products</p>
    </div>

    <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#" class="text-decoration-none text-dark">Home</a></li> /
        <li class="breadcrumb-item active" aria-current="page">products</li>
      </ol>
    </nav>
    <button class="btn btn-primary mb-4 fs-5 text-uppercase border-0 rounded-0" style="background: #f1dfb8; color:#2a431c" data-bs-toggle="modal" data-bs-target="#staticBackdrop" >add product</button>

    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4 product-list ">
      <div class="col" *ngFor="let product of products; index as i">
        <div class="card h-100">
          <div class="overflow-hidden" style="height: 250px;  object-fit: contain;">
            <img src={{product.images[0].url}} alt="" class="" style="width:100%; height: 100%;">
          </div>
          <div class="card-body">
            <p class="product-title fw-bold fs-5 " style="color: #2a431c; ">{{product.name}}</p>
            <p class="product-title text-truncate" style="color: #2a431c;">{{product.description}}</p>
            <small class="product-price">from <span class="fw-bold">{{product.price | currency:'INR'}}</span></small>
            <div class="rating d-flex justify-content-between">
              <div>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star checked"></span>
                <span class="fa fa-star"></span>
                <span class="fa fa-star"></span>
                <small class="ms-2">(123 ratings)</small>
              </div>
              <div class="dropup-centered dropup">
                <a class=" dropdown-toggle-sm text-decoration-none fw-lighter" href="#" role="button"
                  data-bs-toggle="dropdown" id="dropdownMenuButton" aria-expanded="false">
                  <i class="fa fa-ellipsis-v "></i>
                </a>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton" style="background-color: #f4f3ee;">
                  <li><a class="dropdown-item p-2 " href="" data-bs-toggle="modal" data-bs-target="#exampleModal"
                      (click)="updateProduct(product._id)">update</a> </li>
                  <li><a class="dropdown-item p-2 text-decoration-none" (click)="deleteProduct(product._id)">delete</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>








<!-- footer component -->
